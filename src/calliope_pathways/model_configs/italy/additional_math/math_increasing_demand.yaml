constraints:
  demand_min:
    # This doesn't seem to be doing what we want it to, so I've now deactivated it.
    description: The electricity demand gradually increases to reach the 2050 electricity demand profile.
    foreach: [nodes, carriers, timesteps, investsteps]
    equations:
      - expression: sum(flow_in_inc_eff[techs=$all_demand], over=techs) == factor_demand_2015 * sink_use_max[techs=demand_electricity_2015] + (1 - factor_demand_2015) * sink_use_max[techs=demand_electricity_2050]
    slices:
      all_demand:
        - expression: "[demand_electricity_2015, demand_electricity_2050]"
    active: false

  balance_demand:
    equations:
    - where: sink_use_equals
      expression: flow_in_inc_eff == sink_use_equals * $sink_scaler * demand_factor
    - where: NOT sink_use_equals AND sink_use_max
      expression: flow_in_inc_eff <= sink_use_max * $sink_scaler